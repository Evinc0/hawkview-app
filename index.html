<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="theme-color" content="#000000" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <meta name="description" content="HAWKVIEW – AI-Powered Shopping Assistant" />

  <!-- Font Striker Regular -->
  <style>
    @font-face {
      font-family: 'Font Striker Regular';
      src: url('FontStriker-Regular.woff2') format('woff2'),
           url('FontStriker-Regular.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }
    body, h1, h2, h3, button, input { font-family: 'Font Striker Regular', 'Orbitron', sans-serif; }
  </style>

  <title>HAWKVIEW</title>

  <!-- Apple Touch Icon -->
  <link rel="apple-touch-icon" href="HAWKVIEW_LOGO.png" />

  <!-- Manifest -->
  <link rel="manifest" href="manifest.json" />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Styles -->
  <style>
    html, body { height: 100%; margin: 0; padding: 0; }
    body {
      background: #000;
      color: #F0C55F;
      overflow: hidden;
    }
    .min-h-screen {
      min-height: 100dvh;
    }
    .video-container {
      width: 100%;
      max-width: 400px;
      margin: 0 auto;
    }
    .video-border {
      border: 2px solid #F0C55F;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(240, 197, 95, 0.3);
    }
    .feature-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid #333;
      border-radius: 12px;
      padding: 1rem;
    }
    .nav-tab {
      background: #111;
      color: #F0C55F;
      padding: 0.8rem 1rem;
      border-radius: 10px;
      text-align: center;
      font-size: 0.9rem;
    }
    .copy-coupon-btn {
      background: #00C896;
      color: #000;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 700;
    }
    .buy-btn {
      background: linear-gradient(45deg, #00C896, #F0C55F);
      color: #000;
      border: none;
      padding: 0.6rem 1.2rem;
      border-radius: 8px;
      font-weight: 700;
      cursor: pointer;
    }
    .hidden {
      display: none !important;
    }

    /* Fade Animation */
    .fade-out {
      animation: fadeOut 1s ease forwards;
    }
    @keyframes fadeOut {
      to { opacity: 0; visibility: hidden; }
    }
  </style>
</head>
<body class="bg-black text-yellow-400">

  <!-- === CINEMATIC SPLASH SCREEN === -->
  <div id="cinematicSplash" style="position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:9999;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden;color:#F0C55F;text-align:center;">
    <video 
      id="splashVideo" 
      autoplay muted loop playsinline 
      style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1;">
      <source src="hawkview_logo.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <div style="position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(180deg,rgba(0,0,0,0.1),rgba(0,0,0,0.9));z-index:-1;"></div>

    <h1 style="font-size:5rem;font-weight:900;letter-spacing:0.2em;margin:0 0 1rem;color:#F0C55F;text-shadow:0 0 15px rgba(240,197,95,0.6);">
      HAWKVIEW
    </h1>

    <p style="font-size:1.4rem;max-width:80%;margin:0 auto 1.5rem;color:#fff;font-weight:300;">
      Powered by <strong style="color:#D46EFF;">Advanced AI Vision</strong> — discover the best prices across every store, in real time.
    </p>

    <div style="display:flex;justify-content:center;gap:1.5rem;margin:1.5rem auto;flex-wrap:wrap;max-width:90%;">
      <div style="background:rgba(0,0,0,0.6);border:1px solid #F0C55F;border-radius:12px;padding:1rem 1.5rem;min-width:160px;backdrop-filter:blur(4px);font-size:0.95rem;">
        <strong style="color:#F0C55F;">AI-Powered</strong><br>Instant Object Recognition
      </div>
      <div style="background:rgba(0,0,0,0.6);border:1px solid #D46EFF;border-radius:12px;padding:1rem 1.5rem;min-width:160px;backdrop-filter:blur(4px);font-size:0.95rem;">
        <strong style="color:#D46EFF;">Smart Discovery</strong><br>Find Hidden Deals
      </div>
      <div style="background:rgba(0,0,0,0.6);border:1px solid #00C896;border-radius:12px;padding:1rem 1.5rem;min-width:160px;backdrop-filter:blur(4px);font-size:0.95rem;">
        <strong style="color:#00C896;">Real-Time</strong><br>Price Comparison Engine
      </div>
    </div>

    <button id="goToSiteBtn" style="margin-top:2rem;padding:1rem 2.5rem;font-size:1.2rem;background:linear-gradient(45deg,#F0C55F,#D46EFF);color:#000;border:none;border-radius:50px;cursor:pointer;font-weight:700;box-shadow:0 0 20px rgba(240,197,95,0.5);transition:all 0.3s ease;">
      GO TO SITE
    </button>
  </div>

  <!-- === YOUR FULL APP BEGINS BELOW === -->
  <!-- All screens and logic from your original file preserved -->

  <!-- Auth Screen -->
  <div id="authScreen" class="screen hidden flex flex-col items-center justify-center px-6 bg-black text-center">
    <div class="w-full max-w-md">
      <div class="relative mb-6">
        <img src="HAWKVIEW_LOGO.png" alt="HAWKVIEW" class="w-24 mx-auto mb-6" />
        <h1 class="text-3xl font-bold text-yellow-400 ui-font">Welcome to HAWKVIEW</h1>
        <p class="text-gray-400 text-sm md:text-base mb-8">The Future of AI-Powered Shopping</p>
      </div>
      <button onclick="HAWKVIEW.Auth.continueAsGuest()" class="w-full max-w-xs bg-transparent border-2 border-yellow-400 text-yellow-400 rounded-full py-3 px-6 mb-4 font-bold hover:bg-yellow-400 hover:text-black transition">
        Continue as Guest
      </button>
      <button onclick="HAWKVIEW.Auth.showSignUp()" class="w-full max-w-xs bg-gradient-to-r from-yellow-400 to-purple-600 text-black font-bold py-3 px-6 rounded-full mb-4">
        Create Account
      </button>
      <button onclick="HAWKVIEW.Auth.showSignIn()" class="w-full max-w-xs bg-transparent border-2 border-purple-600 text-purple-600 rounded-full py-3 px-6 font-bold hover:bg-purple-600 hover:text-black transition">
        Sign In
      </button>
      <p class="text-gray-500 text-xs mt-6">
        Guests do not save history or access advanced AI analytics.
      </p>
    </div>
  </div>

  <!-- Main App Screen -->
  <div id="mainAppScreen" class="screen hidden flex flex-col h-full">
    <header class="bg-black p-4 text-center relative">
      <h1 class="text-2xl font-bold text-yellow-400 ui-font">HAWKVIEW</h1>
      <div class="absolute right-4 top-4 w-6 h-6 flex flex-col justify-center items-center cursor-pointer" onclick="HAWKVIEW.UI.toggleMenu()">
        <div class="w-5 h-0.5 bg-yellow-400 mb-1"></div>
        <div class="w-5 h-0.5 bg-yellow-400 mb-1"></div>
        <div class="w-5 h-0.5 bg-yellow-400"></div>
      </div>
    </header>
    <nav id="mainMenu" class="bg-black p-4 hidden">
      <ul class="space-y-2">
        <li><a href="#" onclick="HAWKVIEW.UI.showScreen('scanScreen'); return false;" class="block text-yellow-400 hover:text-white">Scan</a></li>
        <li><a href="#" onclick="HAWKVIEW.UI.showScreen('profileScreen'); return false;" class="block text-yellow-400 hover:text-white">Profile</a></li>
        <li><a href="#" onclick="HAWKVIEW.UI.showScreen('adminScreen'); return false;" class="block text-yellow-400 hover:text-white">Admin</a></li>
        <li><a href="#" onclick="HAWKVIEW.Auth.logout(); return false;" class="block text-yellow-400 hover:text-white">Logout</a></li>
      </ul>
    </nav>

    <!-- Scan Screen -->
    <div id="scanScreen" class="screen hidden p-6 flex-1 bg-black">
      <h2 class="text-2xl font-bold mb-4 text-yellow-400 ui-font">AI Search</h2>
      <p class="text-gray-400 mb-6">Enter a product name to find the best deal instantly.</p>
      <input type="text" id="searchInput" placeholder="Search for any product..." class="w-full p-3 bg-gray-900 border border-gray-700 rounded-lg text-white mb-4" />
      <button onclick="HAWKVIEW.Search.performSearch()" class="w-full bg-gradient-to-r from-yellow-400 to-green-500 text-black font-bold py-3 px-6 rounded-lg hover:scale-105 transition-transform">
        Search with AI
      </button>
      <div id="searchResults" class="mt-8 space-y-4"></div>
      <button id="loadMoreBtn" class="hidden w-full mt-6 p-3 bg-gray-800 text-yellow-400 rounded-lg">Load More Results</button>
    </div>

    <!-- Profile Screen -->
    <div id="profileScreen" class="screen hidden p-6 flex-1 bg-black">
      <h2 class="text-2xl font-bold mb-4 text-yellow-400 ui-font">Your Profile</h2>
      <p class="text-gray-400">View your saved searches, purchase history, and AI insights.</p>
    </div>

    <!-- Admin Screen -->
    <div id="adminScreen" class="screen hidden p-6 flex-1 bg-black">
      <h2 class="text-2xl font-bold mb-4 text-yellow-400 ui-font">Admin Panel</h2>
      <p class="text-gray-400">Manage stores, coupons, and AI settings.</p>
      <div id="suggestedStoresSection" class="mt-6">
        <h3 class="text-purple-400 font-bold mb-2">Suggested Stores to Add</h3>
        <ul id="suggestedStoresList" class="space-y-2"></ul>
      </div>
    </div>
  </div>

  <!-- === JAVASCRIPT CORE (FULL HAWKVIEW OBJECT) === -->
  <script>
    const HAWKVIEW = {
      state: {
        currentUser: null,
        userType: 'guest',
        currentScreen: 'splashScreen',
        currentTab: 'scan',
        configuredStores: []
      },

      init() {
        console.log("Initializing HAWKVIEW Core...");
        this.loadConfiguredStores();
        this.UI.init();
        this.Auth.init();
        this.Admin.init();
        this.PurchaseHistory.init();
        this.Analytics.init();
        this.createParticles();
        this.checkStartupScreen();
        console.log("HAWKVIEW Core Initialized.");
      },

      UI: {
        init() {
          this.bindTabEvents();
        },
        bindTabEvents() {
          document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', (e) => {
              const tabName = e.target.dataset.tab;
              HAWKVIEW.UI.showTab(tabName);
            });
          });
        },
        showScreen(screenId) {
          document.querySelectorAll('.screen').forEach(s => s.classList.add('hidden'));
          document.getElementById(screenId).classList.remove('hidden');
          HAWKVIEW.state.currentScreen = screenId;
        },
        showTab(tabName) {
          HAWKVIEW.state.currentTab = tabName;
          document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('bg-yellow-400', 'text-black'));
          document.querySelector(`[data-tab="${tabName}"]`).classList.add('bg-yellow-400', 'text-black');
        },
        toggleMenu() {
          const menu = document.getElementById('mainMenu');
          menu.classList.toggle('hidden');
        },
        showInstallModal() {
          const platform = /iPhone|iPad|iPod/.test(navigator.userAgent) ? 'iOS' : 'Android';
          const platformInfo = platform === 'iOS' 
            ? '<p class="text-sm mt-2">On iOS, tap the <i class="fas fa-share"></i> icon, then "Add to Home Screen".</p>'
            : '<p class="text-sm mt-2">On Android, tap the <i class="fas fa-ellipsis-v"></i> menu, then "Install app".</p>';
          const installModal = document.createElement('div');
          installModal.className = 'install-modal fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4';
          installModal.innerHTML = `
            <div class="bg-gray-900 p-6 rounded-lg max-w-sm w-full text-center">
              <h3 class="text-xl font-bold mb-4 text-yellow-400">Install HAWKVIEW</h3>
              <p class="text-sm">Add HAWKVIEW to your home screen for a full app experience.</p>
              ${platformInfo}
              <p class="text-xs text-gray-400 mt-2">Once installed, HAWKVIEW will open in fullscreen mode</p>
              <button class="continue-btn ui-font mt-4 bg-gradient-to-r from-yellow-400 to-purple-600 text-black py-2 px-6 rounded-full" onclick="this.closest('.install-modal').remove(); HAWKVIEW.UI.showScreen('authScreen')">
                Continue to App
              </button>
            </div>`;
          document.body.appendChild(installModal);
        }
      },

      Auth: {
        init() {
          this.restoreSession();
        },
        restoreSession() {
          const savedUser = localStorage.getItem('hawkview_user');
          if (savedUser) {
            this.currentUser = JSON.parse(savedUser);
            HAWKVIEW.state.currentUser = this.currentUser;
            HAWKVIEW.UI.showScreen('mainAppScreen');
          }
        },
        continueAsGuest() {
          HAWKVIEW.state.userType = 'guest';
          HAWKVIEW.UI.showScreen('mainAppScreen');
        },
        showSignUp() {
          document.getElementById('authOptions').classList.add('hidden');
          document.getElementById('signUpForm').classList.remove('hidden');
        },
        showSignIn() {
          document.getElementById('authOptions').classList.add('hidden');
          document.getElementById('signInForm').classList.remove('hidden');
        },
        login(email, password) {
          // Simulated login
          HAWKVIEW.state.currentUser = { email, name: email.split('@')[0] };
          HAWKVIEW.state.userType = 'registered';
          localStorage.setItem('hawkview_user', JSON.stringify(HAWKVIEW.state.currentUser));
          HAWKVIEW.UI.showScreen('mainAppScreen');
        },
        logout() {
          HAWKVIEW.state.currentUser = null;
          HAWKVIEW.state.userType = 'guest';
          localStorage.removeItem('hawkview_user');
          HAWKVIEW.UI.showScreen('authScreen');
        }
      },

      Search: {
        performSearch() {
          const query = document.getElementById('searchInput').value.trim();
          if (!query) return alert("Please enter a product name.");
          const results = [
            { store: 'Amazon', price: 79.99, original: 99.99, coupon: 'HAWK15' },
            { store: 'Walmart', price: 84.99, original: 95.00, coupon: 'SAVE10' },
            { store: 'Best Buy', price: 89.99, original: 109.99, coupon: 'BB20' }
          ];
          const container = document.getElementById('searchResults');
          container.innerHTML = '';
          results.forEach(r => {
            const el = document.createElement('div');
            el.className = 'bg-gray-900 p-4 rounded-lg';
            el.innerHTML = `
              <h3 class="text-white font-bold">${query}</h3>
              <p><strong>Store:</strong> ${r.store}</p>
              <p><strong>Deal:</strong> <span class="text-green-400">$${r.price}</span> <small class="text-gray-500 line-through">($${r.original})</small></p>
              <button class="copy-coupon-btn" data-coupon="${r.coupon}">Copy Coupon: ${r.coupon}</button>
              <a href="#" class="buy-btn mt-2 inline-block">→ Buy Now</a>
            `;
            container.appendChild(el);
          });
          document.getElementById('loadMoreBtn').classList.remove('hidden');
        }
      },

      Admin: {
        init() {
          this.loadSuggestedStores();
        },
        loadSuggestedStores() {
          const stores = ['Amazon', 'Walmart', 'Target', 'eBay'];
          const list = document.getElementById('suggestedStoresList');
          list.innerHTML = '';
          stores.forEach(store => {
            const li = document.createElement('li');
            li.className = 'bg-gray-800 p-2 rounded flex justify-between';
            li.innerHTML = `${store} <button class="add-store-btn text-xs bg-green-600 text-white px-2 py-1 rounded" data-store="${store}">Add</button>`;
            list.appendChild(li);
          });
          this.bindAddStoreButtons();
        },
        bindAddStoreButtons() {
          document.querySelectorAll('.add-store-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
              const store = e.target.dataset.store;
              if (!HAWKVIEW.state.configuredStores.includes(store)) {
                HAWKVIEW.state.configuredStores.push(store);
                e.target.textContent = 'Added!';
                e.target.disabled = true;
                alert(`${store} has been added to your network.`);
              }
            });
          });
        }
      },

      PurchaseHistory: {
        init() {
          // Simulated history
        }
      },

      Analytics: {
        init() {
          // Simulated analytics
        }
      },

      createParticles() {
        // Simulated particle effect
      },

      checkStartupScreen() {
        // Skip splash if already logged in
        if (HAWKVIEW.state.currentUser) {
          HAWKVIEW.UI.showScreen('mainAppScreen');
        } else {
          HAWKVIEW.UI.showScreen('authScreen'); // We'll show auth after splash
        }
      },

      loadConfiguredStores() {
        // Simulated store load
      }
    };

    // === SPLASH SCREEN LOGIC ===
    document.addEventListener('DOMContentLoaded', () => {
      const splash = document.getElementById('cinematicSplash');
      const goToSiteBtn = document.getElementById('goToSiteBtn');

      // Show splash first, then go to auth
      goToSiteBtn.addEventListener('click', () => {
        splash.classList.add('fade-out');
        setTimeout(() => {
          HAWKVIEW.UI.showScreen('authScreen');
        }, 1000);
      });

      // Auto-show auth if already logged in
      if (HAWKVIEW.state.currentUser) {
        splash.style.display = 'none';
        HAWKVIEW.UI.showScreen('mainAppScreen');
      }
    });

    // Initialize app
    window.addEventListener('load', () => {
      HAWKVIEW.init();
    });
  </script>
</body>
</html>
