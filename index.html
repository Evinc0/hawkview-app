<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="theme-color" content="#000000" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon" href="HAWKVIEW_LOGO.png" />
  <link rel="icon" type="image/png" href="HAWKVIEW_LOGO.png" />
  <link rel="manifest" href="manifest.json" />
  <title>HAWKVIEW</title>
  <style>
    @font-face {
      font-family: 'Striker';
      src: url('Font_Striker.otf') format('opentype');
    }

    /* --- DESKTOP SPLASH SCREEN (ONLY FOR COMPUTER BROWSERS) --- */
    #desktopSplash {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #000000, #0a0a0a);
      z-index: 9999;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      overflow: hidden;
    }

    #desktopVideoContainer {
      position: relative;
      width: 85vw;
      max-width: 600px;
      margin: 40px auto;
      border: 4px solid #00ff88;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 0 40px rgba(0, 255, 136, 0.5), inset 0 0 20px rgba(0, 255, 136, 0.2);
    }

    #desktopSplashVideo {
      width: 100%;
      height: auto;
      display: block;
    }

    #desktopSplashContent {
      text-align: center;
      margin-top: 20px;
      opacity: 0;
      animation: fadeIn 1s ease-out 0.5s forwards;
    }

    #desktopSubtitle {
      font-family: 'Arial', sans-serif;
      font-size: 1.4rem;
      color: #aaa;
      margin: 10px 0 25px;
      font-weight: 300;
    }

    #goToSiteBtn {
      padding: 16px 50px;
      background: linear-gradient(135deg, #00ff88, #00cc66);
      color: #000;
      font-size: 1.3rem;
      font-weight: 600;
      border: none;
      border-radius: 60px;
      cursor: pointer;
      box-shadow: 0 8px 30px rgba(0, 255, 136, 0.5);
      transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
      letter-spacing: 1.5px;
    }

    #goToSiteBtn:hover {
      transform: scale(1.08);
      box-shadow: 0 12px 40px rgba(0, 255, 136, 0.7);
    }

    .particles-js-canvas-el {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    @keyframes fadeOut {
      to { opacity: 0; }
    }

    .fade-out {
      animation: fadeOut 1.2s forwards;
    }

    /* --- GENERAL STYLES --- */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      background: #000;
      color: #00ff88;
      font-family: 'Arial', sans-serif;
      overflow: hidden;
    }

    body {
      min-height: 100dvh;
    }

    .screen {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      height: 100vh;
      padding: 20px;
      box-sizing: border-box;
    }

    .screen.active {
      display: flex;
    }

    #splashScreen, #authScreen, #mainScreen, #scanScreen, #adminScreen {
      background: linear-gradient(135deg, #000000, #0a0a0a);
    }

    h1 {
      font-family: 'Striker', sans-serif;
      font-size: 4rem;
      color: #00ff88;
      text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
      margin: 10px 0;
    }

    p {
      color: #aaa;
      font-size: 1.1rem;
      text-align: center;
      max-width: 500px;
    }

    input, button {
      padding: 12px 20px;
      margin: 10px;
      border: none;
      border-radius: 50px;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s;
    }

    input {
      background: #111;
      color: #00ff88;
      border: 1px solid #00ff88;
      text-align: center;
    }

    button {
      background: linear-gradient(135deg, #00ff88, #00cc66);
      color: #000;
      font-weight: bold;
      box-shadow: 0 5px 15px rgba(0, 255, 136, 0.3);
    }

    button:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 25px rgba(0, 255, 136, 0.5);
    }

    #videoContainer {
      position: relative;
      width: 90%;
      max-width: 500px;
      margin: 20px auto;
      border: 4px solid #00ff88;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 0 30px rgba(0, 255, 136, 0.4);
    }

    #hawkviewVideo {
      width: 100%;
      display: block;
    }

    .feature-card {
      background: #111;
      border: 1px solid #00ff88;
      border-radius: 12px;
      padding: 15px;
      margin: 10px;
      width: 80%;
      max-width: 400px;
      text-align: center;
      box-shadow: 0 5px 15px rgba(0, 255, 136, 0.1);
    }

    .glow {
      animation: glow 2s infinite alternate;
    }

    @keyframes glow {
      from {
        box-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
      }
      to {
        box-shadow: 0 0 20px rgba(0, 255, 136, 0.8), 0 0 30px rgba(0, 255, 136, 0.5);
      }
    }

    .float {
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-10px);
      }
    }

    .shimmer {
      position: relative;
    }

    .shimmer::after {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 200%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      animation: shimmer 3s infinite;
    }

    @keyframes shimmer {
      0% {
        left: -100%;
      }
      100% {
        left: 100%;
      }
    }

    #installBtn {
      background: #111;
      color: #00ff88;
      border: 1px solid #00ff88;
    }

    #installBtn:hover {
      background: #00ff88;
      color: #000;
    }

    @media all and (display-mode: standalone) {
      #installBtn {
        display: none !important;
      }
    }

    .admin-card {
      background: #111;
      border: 1px solid #00ccff;
      border-radius: 12px;
      padding: 15px;
      margin: 10px;
      width: 80%;
      max-width: 400px;
      text-align: center;
    }

    .search-results {
      width: 90%;
      max-width: 600px;
      margin: 20px 0;
    }

    .result-item {
      background: #111;
      border: 1px solid #00ff88;
      border-radius: 12px;
      padding: 15px;
      margin: 10px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .result-item:hover {
      background: #1a1a1a;
      transform: scale(1.02);
    }

    .price {
      font-weight: bold;
      color: #00ff88;
    }

    .original-price {
      text-decoration: line-through;
      color: #777;
    }

    .discount {
      color: #00cc66;
      font-weight: bold;
    }

    .ai-badge {
      background: #001a33;
      color: #00ccff;
      padding: 5px 10px;
      border-radius: 8px;
      font-size: 0.8rem;
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <!-- DESKTOP SPLASH SCREEN (ONLY FOR COMPUTER BROWSERS) -->
  <div id="desktopSplash">
    <div id="desktopVideoContainer">
      <video id="desktopSplashVideo" autoplay muted loop playsinline>
        <source src="hawkview_logo.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>
    <div id="desktopSplashContent">
      <p id="desktopSubtitle">Revolutionary AI Shopping Assistant</p>
      <button id="goToSiteBtn">GO TO SITE</button>
    </div>
    <canvas class="particles-js-canvas-el"></canvas>
  </div>

  <!-- ORIGINAL APP STRUCTURE -->
  <div id="appContainer" style="display:none;">
    <!-- SPLASH SCREEN (MOBILE INSTALL FLOW) -->
    <div id="splashScreen" class="screen active">
      <div id="videoContainer" class="float">
        <video id="hawkviewVideo" autoplay muted loop>
          <source src="hawkview_logo.mp4" type="video/mp4" />
        </video>
      </div>
      <h1>HAWKVIEW</h1>
      <p>Revolutionary AI Shopping Assistant</p>
      <div class="feature-card shimmer">
        <h3>AI-Powered Price Comparison</h3>
        <p>Finds the best deals across thousands of retailers in real-time.</p>
      </div>
      <div class="feature-card shimmer">
        <h3>Smart Coupon Detection</h3>
        <p>Automatically applies the best available discounts at checkout.</p>
      </div>
      <div class="feature-card shimmer">
        <h3>Personalized Recommendations</h3>
        <p>Learns your preferences and suggests perfect products.</p>
      </div>
      <button id="installBtn">Install HAWKVIEW</button>
    </div>

    <!-- AUTH SCREEN -->
    <div id="authScreen" class="screen">
      <h1>HAWKVIEW</h1>
      <input type="email" id="emailInput" placeholder="Email" />
      <input type="password" id="passwordInput" placeholder="Password" />
      <button id="loginBtn">Login</button>
      <button id="signupBtn">Sign Up</button>
      <p id="authStatus"></p>
    </div>

    <!-- MAIN SCREEN -->
    <div id="mainScreen" class="screen">
      <h1>Welcome</h1>
      <p id="userEmail"></p>
      <button id="scanBtn">Search Products</button>
      <button id="adminBtn">Admin Panel</button>
      <button id="logoutBtn">Logout</button>
    </div>

    <!-- SCAN SCREEN -->
    <div id="scanScreen" class="screen">
      <h1>Search Products</h1>
      <input type="text" id="productInput" placeholder="Enter product name" />
      <button id="searchBtn">Search</button>
      <div class="search-results" id="searchResults"></div>
      <button id="backBtn">Back</button>
    </div>

    <!-- ADMIN SCREEN -->
    <div id="adminScreen" class="screen">
      <h1>Admin Panel</h1>
      <div class="admin-card">
        <h3>Manage Stores</h3>
        <p>Add, remove, or edit retailer configurations.</p>
        <button id="manageStoresBtn">Manage</button>
      </div>
      <div class="admin-card">
        <h3>AI Training Data</h3>
        <p>Upload datasets to improve recommendation accuracy.</p>
        <button id="uploadDataBtn">Upload</button>
      </div>
      <button id="adminBackBtn">Back</button>
    </div>
  </div>

  <!-- EXTERNAL SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

  <!-- MAIN APP SCRIPT -->
  <script>
    // Initialize Particles for Desktop Splash
    particlesJS("desktopSplash", {
      particles: {
        number: { value: 80, density: { enable: true, area: 800 } },
        color: { value: "#00ff88" },
        shape: { type: "circle" },
        opacity: { value: 0.3, random: true },
        size: { value: 3, random: true },
        move: { enable: true, speed: 1, direction: "none", random: true, out_mode: "out" }
      },
      interactivity: { detect_on: "canvas", events: { onhover: { enable: true, mode: "repulse" } } },
      retina_detect: true
    });

    // HAWKVIEW App Object
    var HAWKVIEW = {
      state: {
        currentUser: null,
        configuredStores: ['Amazon', 'eBay', 'Walmart', 'Target'],
        isInstalled: false
      },

      init: function() {
        this.bindEvents();
        this.checkDeviceAndShowScreen();
      },

      bindEvents: function() {
        document.getElementById('loginBtn').addEventListener('click', () => this.login());
        document.getElementById('signupBtn').addEventListener('click', () => this.signup());
        document.getElementById('logoutBtn').addEventListener('click', () => this.logout());
        document.getElementById('scanBtn').addEventListener('click', () => this.showScreen('scanScreen'));
        document.getElementById('adminBtn').addEventListener('click', () => this.showScreen('adminScreen'));
        document.getElementById('backBtn').addEventListener('click', () => this.showScreen('mainScreen'));
        document.getElementById('adminBackBtn').addEventListener('click', () => this.showScreen('mainScreen'));
        document.getElementById('searchBtn').addEventListener('click', () => this.searchProducts());
        document.getElementById('manageStoresBtn').addEventListener('click', () => alert('Manage Stores clicked'));
        document.getElementById('uploadDataBtn').addEventListener('click', () => alert('Upload Data clicked'));
        document.getElementById('installBtn').addEventListener('click', () => this.showInstallModal());

        // GO TO SITE Button
        const goBtn = document.getElementById('goToSiteBtn');
        if (goBtn) {
          goBtn.addEventListener('click', () => {
            document.getElementById('desktopSplash').classList.add('fade-out');
            setTimeout(() => {
              document.getElementById('desktopSplash').style.display = 'none';
              this.showScreen('authScreen');
            }, 1200);
          });
        }
      },

      checkDeviceAndShowScreen: function() {
        const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
        const appContainer = document.getElementById('appContainer');

        if (isMobile) {
          // Mobile: Show install splash
          appContainer.style.display = 'block';
          this.showScreen('splashScreen');
        } else {
          // Desktop: Show video splash
          document.getElementById('desktopSplash').style.display = 'flex';
        }
      },

      login: function() {
        const email = document.getElementById('emailInput').value;
        const password = document.getElementById('passwordInput').value;
        if (email && password) {
          this.state.currentUser = email;
          localStorage.setItem('hawkview_user', email);
          this.showScreen('mainScreen');
          document.getElementById('userEmail').textContent = `User: ${email}`;
        } else {
          document.getElementById('authStatus').textContent = 'Please enter email and password.';
        }
      },

      signup: function() {
        const email = document.getElementById('emailInput').value;
        const password = document.getElementById('passwordInput').value;
        if (email && password) {
          this.login();
        } else {
          document.getElementById('authStatus').textContent = 'Please enter email and password.';
        }
      },

      logout: function() {
        this.state.currentUser = null;
        localStorage.removeItem('hawkview_user');
        this.showScreen('authScreen');
      },

      showScreen: function(screenId) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(screenId).classList.add('active');
      },

      searchProducts: function() {
        const query = document.getElementById('productInput').value;
        const resultsDiv = document.getElementById('searchResults');
        resultsDiv.innerHTML = '';
        if (!query) return;

        const mockResults = [
          { name: `${query} Model X`, store: 'Amazon', price: 89.99, original: 99.99 },
          { name: `${query} Pro`, store: 'eBay', price: 75.50, original: 85.00 },
          { name: `${query} Deluxe`, store: 'Walmart', price: 82.00, original: 95.00 }
        ];

        mockResults.forEach(item => {
          const div = document.createElement('div');
          div.className = 'result-item';
          div.innerHTML = `
            <div>
              <strong>${item.name}</strong> <br>
              <span>${item.store}</span>
              <div class="ai-badge">AI Verified Best Price</div>
            </div>
            <div class="price">$${item.price.toFixed(2)}</div>
            <div class="original-price">$${item.original.toFixed(2)}</div>
            <div class="discount">Save ${(100 * (item.original - item.price) / item.original).toFixed(1)}%</div>
          `;
          resultsDiv.appendChild(div);
        });
      },

      showInstallModal: function() {
        alert("To install HAWKVIEW:\n\niOS: Tap the share button, then 'Add to Home Screen'.\n\nAndroid: Tap the menu (three dots), then 'Install app' or 'Add to Home screen'.\n\nThen launch from your home screen for the full app experience.");
      }
    };

    // Initialize App
    window.addEventListener('load', () => HAWKVIEW.init());
  </script>
</body>
</html>
